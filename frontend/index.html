<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uber Mini - Ride Sharing System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">üöó UBER MINI</h1>
                <p class="app-subtitle">Real-Time Ride Sharing with DSA Visualization</p>
            </div>
            <div class="header-stats">
                <div class="stat-card">
                    <span class="stat-label">Available Drivers</span>
                    <span class="stat-value" id="available-drivers">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Total Nodes</span>
                    <span class="stat-value" id="total-nodes">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Graph Edges</span>
                    <span class="stat-value" id="total-edges">0</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Panel: Map Visualization -->
            <div class="map-panel">
                <div class="panel-header">
                    <h2>City Map Visualization</h2>
                    <div class="map-controls">
                        <button id="zoom-in-btn" class="control-btn" title="Zoom In">üîç+</button>
                        <button id="zoom-out-btn" class="control-btn" title="Zoom Out">üîç-</button>
                        <button id="reset-view-btn" class="control-btn" title="Reset View">üîÑ</button>
                        <button id="toggle-labels-btn" class="control-btn" title="Toggle Labels">üè∑Ô∏è</button>
                    </div>
                </div>
                <div class="map-container">
                    <canvas id="city-map"></canvas>
                    <div class="map-legend">
                        <div class="legend-item">
                            <span class="legend-icon node-icon"></span>
                            <span>Location Nodes</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon driver-icon"></span>
                            <span>Available Driver</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon" style="background: #FFD700; box-shadow: 0 0 8px rgba(255, 215, 0, 0.5);"></span>
                            <span>Assigned Driver</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon pickup-icon"></span>
                            <span>Pickup (Blue)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon destination-icon"></span>
                            <span>Destination (Red)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-icon route-line"></span>
                            <span>Route Path</span>
                        </div>
                        <div class="legend-item">
                            <span style="font-size: 10px; font-weight: bold; color: #555;">12.5 km</span>
                            <span>Edge Weights</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Controls and Information -->
            <div class="control-panel">
                <!-- Ride Request Form -->
                <div class="panel-section">
                    <h3 class="section-title">Request a Ride</h3>
                    <form id="ride-request-form">
                        <div class="form-group">
                            <label for="pickup-select">Pickup Location</label>
                            <select id="pickup-select" required>
                                <option value="">Select pickup location...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="destination-select">Destination</label>
                            <select id="destination-select" required>
                                <option value="">Select destination...</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary" id="request-ride-btn">
                            Find Driver & Calculate Route
                        </button>
                    </form>
                </div>

                <!-- Ride Result -->
                <div class="panel-section" id="ride-result-section" style="display: none;">
                    <h3 class="section-title">Ride Details</h3>
                    <div id="ride-result-content"></div>
                </div>

                <!-- Driver List -->
                <div class="panel-section">
                    <h3 class="section-title">Available Drivers</h3>
                    <div id="driver-list" class="driver-list"></div>
                </div>

                <!-- Algorithm Logs -->
                <div class="panel-section">
                    <h3 class="section-title">Algorithm Logs</h3>
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="dijkstra">Dijkstra</button>
                        <button class="tab-btn" data-tab="heap">Min-Heap</button>
                        <button class="tab-btn" data-tab="matching">Matching</button>
                    </div>
                    <div class="tab-content">
                        <div id="dijkstra-logs" class="log-container active"></div>
                        <div id="heap-logs" class="log-container"></div>
                        <div id="matching-logs" class="log-container"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- DSA Concepts Info -->
        <div class="dsa-info">
            <h3>DSA Concepts Implemented</h3>
            <div class="dsa-concepts">
                <div class="concept-card">
                    <div class="concept-icon">üìä</div>
                    <div class="concept-name">Graph (Adjacency List)</div>
                    <div class="concept-desc">City map representation</div>
                </div>
                <div class="concept-card">
                    <div class="concept-icon">üîç</div>
                    <div class="concept-name">Dijkstra's Algorithm</div>
                    <div class="concept-desc">Shortest path calculation</div>
                </div>
                <div class="concept-card">
                    <div class="concept-icon">‚ö°</div>
                    <div class="concept-name">Min-Heap Priority Queue</div>
                    <div class="concept-desc">Efficient distance tracking</div>
                </div>
                <div class="concept-card">
                    <div class="concept-icon">üóÇÔ∏è</div>
                    <div class="concept-name">HashMap</div>
                    <div class="concept-desc">Driver database O(1) lookup</div>
                </div>
                <div class="concept-card">
                    <div class="concept-icon">üìã</div>
                    <div class="concept-name">Queue</div>
                    <div class="concept-desc">Ride request processing</div>
                </div>
                <div class="concept-card">
                    <div class="concept-icon">ü™ü</div>
                    <div class="concept-name">Sliding Window</div>
                    <div class="concept-desc">Demand analysis</div>
                </div>
                <div class="concept-card">
                    <div class="concept-icon">üéØ</div>
                    <div class="concept-name">Greedy Algorithm</div>
                    <div class="concept-desc">Nearest driver matching</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Processing your request...</p>
    </div>

    <!-- Error Toast -->
    <div id="error-toast" class="toast toast-error"></div>
    <div id="success-toast" class="toast toast-success"></div>

    <script src="js/api.js"></script>
    <script src="js/map-renderer.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
